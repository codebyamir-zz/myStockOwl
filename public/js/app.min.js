!function(){"use strict";function e(){$(".alert").remove()}function s(e){var s;0===e.code&&($("form")[0].reset(),$(".form-group").removeClass("has-success has-feedback"),s='<div class="alert alert-success alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>Success! '+e.message+"</div>"),1===e.code&&(s='<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>Oops! '+e.message+"</div>"),$(s).insertBefore("form")}$(".nav a").on("click",function(){$(".nav").find(".active").removeClass("active"),$(this).parent().addClass("active")}),$.getJSON("api/v1/retailers",function(e){$.each(e,function(s,t){$("#select-store").append("<option value="+e[s].id+">"+e[s].name+"</option>")})}),$.getJSON("api/v1/retailers/1",function(e){$.each(e.locations,function(e,s){$("#select-location").append("<option value="+s.id+">"+s.state+" - "+s.city+"</option>")})}),$("form").validate({rules:{retailer_id:{required:!0},location_id:{required:!0},phone:{required:!0,phoneUS:!0},product_number:{required:!0,minlength:5}},highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error").addClass("has-success")},errorElement:"span",errorClass:"help-block",errorPlacement:function(e,s){s.parent(".input-group").length?e.insertAfter(s.parent()):e.insertAfter(s)},submitHandler:function(t){$.post("api/v1/subscriptions",$("form").serialize(),function(t){console.log("Submithandler called "+$("form").serialize()),console.log("JSON server response: "+t.code+" "+t.message),e(),s(t)})}})}();
